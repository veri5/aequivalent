(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cd890e5"],{"0352":function(e,t,c){},2366:function(e,t,c){"use strict";c("e6d5")},2485:function(e,t,c){"use strict";c("8e99")},"2ab6":function(e,t,c){"use strict";c("d525")},3135:function(e,t,c){"use strict";c.d(t,"a",(function(){return n}));const n=e=>{const t=c=>c.map(c=>{const n=e.filter(({parent:e})=>e===c.name);return Object.assign({},{...c},n.length?{children:t(n)}:{})}),c=e.filter(e=>!e.parent);return t(c)}},"3cd3":function(e,t,c){},"454a":function(e,t,c){"use strict";c("8338")},5381:function(e,t,c){},"64d9":function(e,t,c){"use strict";c("fafd9")},6949:function(e,t,c){"use strict";c.r(t);var n=c("7a23"),o=c("5502"),l=c("f6f2");const a=Object(n["createTextVNode"])("Sign out ");var r=Object(n["defineComponent"])({__name:"TheSignOutMenuItem",setup(e){const t=Object(o["b"])(),c="verifive";function r(){t.dispatch(c+"/user/signOut")}return(e,t)=>{const c=Object(n["resolveComponent"])("el-icon"),o=Object(n["resolveComponent"])("el-menu-item");return Object(n["openBlock"])(),Object(n["createBlock"])(o,{onClick:r},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(c,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(Object(n["unref"])(l["a"]))]),_:1}),a]),_:1})}}});const i=r;var d=i;const s=e=>(Object(n["pushScopeId"])("data-v-e49268f2"),e=e(),Object(n["popScopeId"])(),e),b={style:{margin:"0px 10px","line-height":"0px"}},u=["src"],O={class:"tagline"},j=s(()=>Object(n["createElementVNode"])("div",{class:"flex-grow"},null,-1)),m=["src"],p=s(()=>Object(n["createElementVNode"])("div",null,"Signed in as:",-1));var f=Object(n["defineComponent"])({__name:"TheSignOutProfileMenu",setup(e){function t(e){return e.avatar.uri?e.avatar.uri:c("1771")("./"+e.avatar)}function l(e){return`${e.substring(0,13)}...${e.slice(-4)}`}const a=Object(o["b"])(),r="verifive",i=a.state[r],s=Object(n["computed"])(()=>i.user.profile),f=Object(n["computed"])(()=>i.company.profile);return(e,o)=>{const a=Object(n["resolveComponent"])("el-avatar"),r=Object(n["resolveComponent"])("el-menu-item"),i=Object(n["resolveComponent"])("el-divider"),v=Object(n["resolveComponent"])("el-sub-menu"),h=Object(n["resolveComponent"])("el-menu"),V=Object(n["resolveComponent"])("el-col"),w=Object(n["resolveComponent"])("el-row");return Object(n["openBlock"])(),Object(n["createBlock"])(w,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(V,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(h,{mode:"horizontal",ellipsis:!1,style:{"align-items":"center",padding:"5px"},"background-color":"#a0cfff","text-color":"#2c3e50"},{default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",b,[Object(n["createElementVNode"])("img",{width:"30",src:c("1771")("./"+Object(n["unref"])(f).homeLogo)},null,8,u)]),Object(n["createElementVNode"])("div",O,Object(n["toDisplayString"])(Object(n["unref"])(f).tagline),1),j,Object(n["createVNode"])(v,{index:"0"},{title:Object(n["withCtx"])(()=>[Object(n["createVNode"])(a,{size:30},{default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("img",{src:t(Object(n["unref"])(s))},null,8,m)]),_:1})]),default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(r,{index:"0-1",class:"submenu-header no-hover"},{default:Object(n["withCtx"])(()=>[p,Object(n["createElementVNode"])("strong",null,Object(n["toDisplayString"])(Object(n["unref"])(s).name),1),Object(n["createElementVNode"])("i",null,Object(n["toDisplayString"])(l(Object(n["unref"])(s).did)),1)]),_:1}),Object(n["createVNode"])(i,{class:"submenu-divider"}),Object(n["createVNode"])(d)]),_:1})]),_:1})]),_:1})]),_:1})}}}),v=(c("f574"),c("6b0d")),h=c.n(v);const V=h()(f,[["__scopeId","data-v-e49268f2"]]);var w=V,C=c("c9a1"),g=c("2295");const N={id:"container"},x={key:0},y={key:0,class:"toolbar"},_={key:1,class:"toolbar"},k={key:1};var E=Object(n["defineComponent"])({__name:"TheElementsToolbar",setup(e){const t=Object(o["b"])(),c="verifive",a=Object(n["computed"])(()=>t.getters[c+"/elements/selectedElement"]),r=Object(n["computed"])(()=>t.getters[c+"/elements/Statuses"]),i=Object(n["computed"])(()=>t.getters[c+"/toolbar/selectedRole"]),d=Object(n["computed"])(()=>t.getters[c+"/toolbar/Roles"]);function s(){t.dispatch(c+"/elements/showNewElementModal")}function b(){t.dispatch(c+"/elements/retireSelectedElement")}function u(){t.dispatch(c+"/elements/showViewElementModal")}function O(){t.dispatch(c+"/elements/clearSelectedElement")}function j(){C["a"].confirm("Element will permanently be retired. Continue?","Retire Element",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"error",icon:Object(n["markRaw"])(l["e"])}).then(()=>{Object(g["a"])({message:"Element retired successfully",icon:Object(n["markRaw"])(l["j"]),position:"top-right",duration:3e3}),b()})}return(e,t)=>{const c=Object(n["resolveComponent"])("el-button"),o=Object(n["resolveComponent"])("el-tooltip"),b=Object(n["resolveComponent"])("el-divider"),m=Object(n["resolveComponent"])("el-space"),p=Object(n["resolveComponent"])("el-card");return Object(n["openBlock"])(),Object(n["createBlock"])(p,{shadow:"never",class:"card","body-style":{padding:"5px"}},{default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",N,[Object(n["unref"])(i)?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",x,[Object(n["unref"])(a)?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",y,[Object(n["unref"])(i)===Object(n["unref"])(d).Owner&&Object(n["unref"])(a).status!==Object(n["unref"])(r).Retired?(Object(n["openBlock"])(),Object(n["createBlock"])(o,{key:0,content:"New Element",placement:"bottom"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(c,{type:"primary",size:"default",circle:"",plain:"",icon:Object(n["unref"])(l["m"]),onClick:s},null,8,["icon"])]),_:1})):Object(n["createCommentVNode"])("",!0),Object(n["unref"])(i)===Object(n["unref"])(d).Owner&&Object(n["unref"])(a).parent&&Object(n["unref"])(a).status!==Object(n["unref"])(r).Retired?(Object(n["openBlock"])(),Object(n["createBlock"])(o,{key:1,content:"Retire Element",placement:"bottom"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(c,{type:"danger",size:"default",circle:"",plain:"",icon:Object(n["unref"])(l["e"]),onClick:j},null,8,["icon"])]),_:1})):Object(n["createCommentVNode"])("",!0),Object(n["unref"])(a).status!==Object(n["unref"])(r).Retired?(Object(n["openBlock"])(),Object(n["createBlock"])(b,{key:2,direction:"vertical",class:"menu-divider"})):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(o,{content:"View Element",placement:"bottom"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(c,{size:"default",circle:"",plain:"",icon:Object(n["unref"])(l["p"]),onClick:u},null,8,["icon"])]),_:1}),Object(n["createVNode"])(o,{content:"Clear Selection",placement:"bottom"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(c,{size:"default",circle:"",plain:"",icon:Object(n["unref"])(l["b"]),onClick:O},null,8,["icon"])]),_:1})])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",_,[Object(n["unref"])(i)===Object(n["unref"])(d).Owner?(Object(n["openBlock"])(),Object(n["createBlock"])(o,{key:0,content:"New Root Element",placement:"bottom"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(c,{type:"primary",size:"default",circle:"",plain:"",icon:Object(n["unref"])(l["i"]),onClick:s},null,8,["icon"])]),_:1})):Object(n["createCommentVNode"])("",!0)]))])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",k,[Object(n["createVNode"])(m)]))])]),_:1})}}});c("454a");const S=h()(E,[["__scopeId","data-v-3089a966"]]);var B=S,T=c("1e49"),D=c("c101"),I=c("3135");const z={style:{"line-height":"20px",color:"#2c3e50"}},R={style:{margin:"0px"}};var M=Object(n["defineComponent"])({__name:"TheElementsTable",setup(e){const t="No element to show yet",c="Add your first element by clicking",a=Object(o["b"])(),r="verifive",i=(Object(n["computed"])(()=>a.getters[r+"/elements/Statuses"]),Object(n["computed"])(()=>a.getters[r+"/elements/selectedElement"]));Object(n["watch"])(i,e=>{null==e&&d.value.setCurrentRow(e)});const d=Object(n["ref"])(),s=Object(n["computed"])(()=>Object(I["a"])(a.getters[r+"/elements/elements"])),b=({row:e,rowIndex:t})=>e.parent?{cursor:"pointer",background:"#fafafa80"}:{cursor:"pointer"};function u(){a.dispatch(r+"/elements/showNewElementModal")}function O(e){a.dispatch(r+"/elements/setSelectedElement",e)}function j(){a.dispatch(r+"/elements/showViewElementModal")}return(e,o)=>{const a=Object(n["resolveComponent"])("el-icon"),r=Object(n["resolveComponent"])("el-button"),i=Object(n["resolveComponent"])("el-table-column"),m=Object(n["resolveComponent"])("el-tag"),p=Object(n["resolveComponent"])("el-card");return Object(n["openBlock"])(),Object(n["createBlock"])(p,{shadow:"never",class:"card","body-style":{padding:"5px 5px"}},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(Object(n["unref"])(T["a"]),{ref_key:"tableRef",ref:d,"row-key":"name",defaultExpandAll:!0,data:Object(n["unref"])(s),"show-header":!!Object(n["unref"])(s).length,"table-layout":"auto","highlight-current-row":!0,"default-sort":{prop:"name",order:"ascending"},"header-cell-style":{background:"#c6e2ff",color:"#2c3e50"},"row-style":b,height:350,onRowClick:O,onRowDblclick:j},Object(n["createSlots"])({default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(i,{prop:"name",label:"Name"}),Object(n["createVNode"])(i,{prop:"validFrom",label:"Valid From"}),Object(n["createVNode"])(i,{prop:"validUntil",label:"Valid Until"}),Object(n["createVNode"])(i,{label:"Status"},{default:Object(n["withCtx"])(e=>[e.row.status?(Object(n["openBlock"])(),Object(n["createBlock"])(m,{key:0,type:Object(n["unref"])(D["b"])(e.row.status),effect:"plain",style:{"min-width":"80px","text-transform":"capitalize"}},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.row.status),1)]),_:2},1032,["type"])):Object(n["createCommentVNode"])("",!0)]),_:1})]),_:2},[Object(n["unref"])(s).length?void 0:{name:"empty",fn:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("div",z,[Object(n["createVNode"])(a,{size:50},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(Object(n["unref"])(l["c"]))]),_:1}),Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("strong",null,Object(n["toDisplayString"])(t)),Object(n["createElementVNode"])("p",R,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(c)+" "),Object(n["createVNode"])(r,{type:"primary",size:"default",circle:"",plain:"",icon:Object(n["unref"])(l["i"]),onClick:u,style:{margin:"5px"}},null,8,["icon"])])])])])}]),1032,["data","show-header"])]),_:1})}}});c("64d9");const U=h()(M,[["__scopeId","data-v-bcf09d00"]]);var A=U;const q=e=>(Object(n["pushScopeId"])("data-v-25b9ebb8"),e=e(),Object(n["popScopeId"])(),e),P={style:{"font-size":"var(--el-font-size-small)"}},F=q(()=>Object(n["createElementVNode"])("span",null,"did:vda:",-1)),Y=Object(n["createTextVNode"])(" Cancel "),L=Object(n["createTextVNode"])(" Submit ");var $=Object(n["defineComponent"])({__name:"TheNewElementModal",setup(e){const t=Object(o["b"])(),c="verifive",a=Object(n["computed"])(()=>t.getters[c+"/elements/elements"]),r=Object(n["computed"])(()=>t.getters[c+"/elements/selectedElement"]),i=Object(n["computed"])(()=>t.getters[c+"/elements/Statuses"]),d=Object(n["computed"])(()=>t.getters[c+"/elements/isNewElementModalVisible"]),s=Object(n["ref"])(),b=Object(n["reactive"])({name:"",holder:"",did:"",validity:""}),u=Object(n["ref"])(!1),O=Object(n["reactive"])({name:[{required:!0,message:"A name is required",trigger:["blur","change"]}],holder:[{required:!0,message:"A element is required",trigger:["blur","change"]}],did:[{required:!0,message:"A did is required",trigger:["blur","change"]}],validity:[{required:!0,message:"A validity date range is required",trigger:["blur","change"]}]});function j(){return`New ${r.value?"":"Root"} Element`}function m(){return`Please fill out the following form to add a new ${r.value?"":"root"} element`}function p(e){return e.filter(({status:e})=>e!==i.value.Retired)}function f(){s.value&&(s.value.resetFields(),u.value=!1)}function v(){f(s.value),t.dispatch(c+"/elements/closeNewElementModal")}function h(e){v(),e()}function V(){s.value&&s.value.validate(e=>{if(!e)return!1;w()})}function w(){C["a"].confirm("Your signature is being requested. Continue?","Signature request",{confirmButtonText:"Sign",cancelButtonText:"Cancel",type:"warning",icon:Object(n["markRaw"])(l["h"])}).then(()=>{const e=Object.assign({},{name:b.name,owner:b.owner,validFrom:b.validity[0],validUntil:b.validity[1],status:i.value.Valid},r.value?{parent:r.value.name}:{});t.dispatch(c+"/elements/confirmNewElement",e),Object(g["a"])({message:"Element created successfully",icon:Object(n["markRaw"])(l["n"]),position:"top-right",duration:3e3}),v()})}return(e,t)=>{const c=Object(n["resolveComponent"])("el-input"),o=Object(n["resolveComponent"])("el-form-item"),l=Object(n["resolveComponent"])("el-switch"),i=Object(n["resolveComponent"])("el-option"),f=Object(n["resolveComponent"])("el-select"),w=Object(n["resolveComponent"])("el-date-picker"),C=Object(n["resolveComponent"])("el-form"),g=Object(n["resolveComponent"])("el-button"),N=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createBlock"])(N,{modelValue:Object(n["unref"])(d),"onUpdate:modelValue":t[5]||(t[5]=e=>Object(n["isRef"])(d)?d.value=e:null),"before-close":h,width:"40%"},{header:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("strong",null,Object(n["toDisplayString"])(j()),1),Object(n["createElementVNode"])("p",P,Object(n["toDisplayString"])(m()),1)]),footer:Object(n["withCtx"])(()=>[Object(n["createVNode"])(g,{onClick:v},{default:Object(n["withCtx"])(()=>[Y]),_:1}),Object(n["createVNode"])(g,{type:"primary",plain:"",onClick:V},{default:Object(n["withCtx"])(()=>[L]),_:1})]),default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(C,{ref_key:"formRef",ref:s,model:b,rules:O,"label-position":"top",size:"default"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(o,{label:"Name",prop:"name"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(c,{modelValue:b.name,"onUpdate:modelValue":t[0]||(t[0]=e=>b.name=e),placeholder:"Type an element name"},Object(n["createSlots"])({_:2},[Object(n["unref"])(r)?{name:"prepend",fn:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(Object(n["unref"])(r).name+"."),1)])}:void 0]),1032,["modelValue"])]),_:1}),Object(n["createVNode"])(l,{modelValue:u.value,"onUpdate:modelValue":t[1]||(t[1]=e=>u.value=e),size:"default","active-text":"Holder of","inactive-text":"DID",class:"switch-label",style:{"--el-switch-on-color":"#dcdfe6","--el-switch-off-color":"#dcdfe6"}},null,8,["modelValue"]),u.value?(Object(n["openBlock"])(),Object(n["createBlock"])(o,{key:0,prop:"holder"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(f,{modelValue:b.holder,"onUpdate:modelValue":t[2]||(t[2]=e=>b.holder=e),placeholder:"Click to select an element name",filterable:!0,clearable:!0,style:{width:"100%"}},{default:Object(n["withCtx"])(()=>[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(p(Object(n["unref"])(a)),e=>(Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:e.name,label:e.name,value:e.name},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):(Object(n["openBlock"])(),Object(n["createBlock"])(o,{key:1,prop:"did"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(c,{modelValue:b.did,"onUpdate:modelValue":t[3]||(t[3]=e=>b.did=e),placeholder:"Type a decentralised identifier"},{prepend:Object(n["withCtx"])(()=>[F]),_:1},8,["modelValue"])]),_:1})),Object(n["createVNode"])(o,{label:"Validity",prop:"validity"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(w,{modelValue:b.validity,"onUpdate:modelValue":t[4]||(t[4]=e=>b.validity=e),type:"daterange",clearable:!0,"range-separator":"and","start-placeholder":"Valid From","end-placeholder":"Valid Until",format:"YYYY/MM/DD","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}});c("2485");const H=h()($,[["__scopeId","data-v-25b9ebb8"]]);var J=H;const K=Object(n["createElementVNode"])("strong",null,"View Element",-1),G=Object(n["createElementVNode"])("p",{style:{"font-size":"var(--el-font-size-small)"}},"Please find the element details below",-1),Q=Object(n["createTextVNode"])(" Close ");var W=Object(n["defineComponent"])({__name:"TheViewElementModal",setup(e){const t=Object(o["b"])(),c="verifive",l=Object(n["computed"])(()=>t.getters[c+"/elements/selectedElement"]),a=(Object(n["computed"])(()=>t.getters[c+"/elements/Statuses"]),Object(n["computed"])(()=>t.getters[c+"/elements/isViewElementModalVisible"]));function r(){t.dispatch(c+"/elements/closeViewElementModal")}function i(e){e(),r()}return(e,t)=>{const c=Object(n["resolveComponent"])("el-descriptions-item"),o=Object(n["resolveComponent"])("el-tag"),d=Object(n["resolveComponent"])("el-descriptions"),s=Object(n["resolveComponent"])("el-button"),b=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createBlock"])(b,{modelValue:Object(n["unref"])(a),"onUpdate:modelValue":t[0]||(t[0]=e=>Object(n["isRef"])(a)?a.value=e:null),"before-close":i,width:"40%"},{header:Object(n["withCtx"])(()=>[K,G]),footer:Object(n["withCtx"])(()=>[Object(n["createVNode"])(s,{onClick:r},{default:Object(n["withCtx"])(()=>[Q]),_:1})]),default:Object(n["withCtx"])(()=>[Object(n["unref"])(l)?(Object(n["openBlock"])(),Object(n["createBlock"])(d,{key:0,direction:"vertical",column:2,border:""},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(c,{label:"Name",span:2},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(Object(n["unref"])(l).name),1)]),_:1}),Object(n["createVNode"])(c,{label:"Valid From"},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(Object(n["unref"])(l).validFrom),1)]),_:1}),Object(n["createVNode"])(c,{label:"Valid Until"},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(Object(n["unref"])(l).validUntil),1)]),_:1}),Object(n["createVNode"])(c,{label:"Status"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(o,{type:Object(n["unref"])(D["b"])(Object(n["unref"])(l).status),effect:"plain",style:{"min-width":"80px","text-transform":"capitalize"}},{default:Object(n["withCtx"])(()=>[Object(n["createTextVNode"])(Object(n["toDisplayString"])(Object(n["unref"])(l).status),1)]),_:1},8,["type"])]),_:1})]),_:1})):Object(n["createCommentVNode"])("",!0)]),_:1},8,["modelValue"])}}});const X=W;var Z=X;const ee={id:"elements"};var te=Object(n["defineComponent"])({__name:"TheElements",setup(e){const t="Elements";return(e,c)=>{const o=Object(n["resolveComponent"])("el-col"),l=Object(n["resolveComponent"])("el-row");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("div",ee,[Object(n["createVNode"])(l,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(o,null,{default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("h2",{class:"heading"},Object(n["toDisplayString"])(t))]),_:1})]),_:1}),Object(n["createVNode"])(l,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(o,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(B)]),_:1})]),_:1}),Object(n["createVNode"])(l,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(o,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(A)]),_:1})]),_:1})]),Object(n["createVNode"])(J),Object(n["createVNode"])(Z)],64)}}});c("2366");const ce=h()(te,[["__scopeId","data-v-2d85888a"]]);var ne=ce;const oe=e=>(Object(n["pushScopeId"])("data-v-254c0c9d"),e=e(),Object(n["popScopeId"])(),e),le=oe(()=>Object(n["createElementVNode"])("div",null,"© 2022 Verifive",-1));function ae(e,t){const c=Object(n["resolveComponent"])("el-divider"),o=Object(n["resolveComponent"])("el-col"),l=Object(n["resolveComponent"])("el-row");return Object(n["openBlock"])(),Object(n["createBlock"])(l,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(c,{class:"fedpol-divider"}),Object(n["createVNode"])(o,{class:"fedpol-footer"},{default:Object(n["withCtx"])(()=>[le]),_:1})]),_:1})}c("2ab6");const re={},ie=h()(re,[["render",ae],["__scopeId","data-v-254c0c9d"]]);var de=ie,se=c("d174"),be=c.n(se),ue=c("4360"),Oe=c("b215"),je=c("c834"),me=c("4ac1");class pe{constructor(e,t){this.storeNamespace=null,this.veridaStore=null,this.userStore=null,this.account=null,this.isAutoAccount=null,this._profile=null,this._context=null,this.msgInstance={},this.isAutoAccount=t,this.storeNamespace=ue["a"].state[e],this.veridaStore=Object(n["computed"])(()=>this.storeNamespace.verida),this.userStore=Object(n["computed"])(()=>this.storeNamespace.user.profile)}async initialize(){this._context=await this.connectContext(),this._profile=await this.connectProfile()}async connectContext(){return this.isAutoAccount?this.account=new me["AutoAccount"]({defaultDatabaseServer:{type:"VeridaDatabase",endpointUri:this.veridaStore.value.veridaTestnetDefaultServer},defaultMessageServer:{type:"VeridaMessage",endpointUri:this.veridaStore.value.veridaTestnetDefaultServer}},{privateKey:this.userStore.value.mnemonic,didServerUrl:this.veridaStore.value.veridaTestnetDidServer,environment:this.veridaStore.value.environmentType}):this.account=new je["VaultAccount"]({request:{logoUrl:this.veridaStore.value.logoUrl}}),Oe["Network"].connect({client:{environment:this.veridaStore.value.environmentType},account:this.account,context:{name:this.veridaStore.value.contextName}})}async connectProfile(){const e=await this.context.getClient(),t=await this.context.account.did(),c=await e.openPublicProfile(t,this.veridaStore.value.contextName,"basicProfile"),{name:n,avatar:o,description:l,country:a}=await c.getMany();return{did:t,name:n,description:l,country:a}}get context(){return this._context}get profile(){return this._profile}}const fe="verifive",ve=!0,he=new pe(fe,ve);he.initialize();var Ve=he;const we=e=>(Object(n["pushScopeId"])("data-v-daeebaae"),e=e(),Object(n["popScopeId"])(),e),Ce=we(()=>Object(n["createElementVNode"])("img",{class:"vda-button",src:be.a,alt:"Sign in with Verida"},null,-1)),ge=Object(n["createTextVNode"])(" Sign in with Verida ");var Ne=Object(n["defineComponent"])({__name:"TheSignInButton",setup(e){const t=Object(n["ref"])(!1),c=Object(o["b"])(),l="verifive",a=Object(n["computed"])(()=>c.getters[l+"/user/isAuthenticated"]);async function r(){t.value=!0,await Ve.initialize();const e=Ve.context;if(e){const e=Ve.profile;c.dispatch(l+"/user/setProfile",e),c.dispatch(l+"/user/signIn")}t.value=!1}return Object(n["onMounted"])(()=>{a.value&&r()}),(e,c)=>{const o=Object(n["resolveComponent"])("el-button"),l=Object(n["resolveDirective"])("loading");return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createBlock"])(o,{"element-loading-background":"rgba(0, 0, 0, 0.5)",size:"large",color:"#42248a",onClick:r},{default:Object(n["withCtx"])(()=>[Ce,ge]),_:1})),[[l,t.value]])}}});c("8533");const xe=h()(Ne,[["__scopeId","data-v-daeebaae"]]);var ye=xe;const _e=e=>(Object(n["pushScopeId"])("data-v-844dfe4a"),e=e(),Object(n["popScopeId"])(),e),ke=["src"],Ee=_e(()=>Object(n["createElementVNode"])("h1",{class:"title"},"The Trust Protocol",-1)),Se={class:"tagline"},Be=_e(()=>Object(n["createElementVNode"])("div",null,"© 2022 Verifive",-1));var Te=Object(n["defineComponent"])({__name:"TheLanding",setup(e){const t=Object(o["b"])(),l="verifive",a=t.state[l],r=Object(n["computed"])(()=>a.company.profile);return(e,t)=>{const o=Object(n["resolveComponent"])("el-col"),l=Object(n["resolveComponent"])("el-row"),a=Object(n["resolveComponent"])("el-divider");return Object(n["openBlock"])(),Object(n["createBlock"])(l,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(o,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(l,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(o,{class:"header"},{default:Object(n["withCtx"])(()=>[Object(n["createElementVNode"])("img",{alt:"company logo",src:c("1771")("./"+Object(n["unref"])(r).landingLogo)},null,8,ke)]),_:1})]),_:1}),Object(n["createVNode"])(l,{class:"body body-background"},{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(o,null,{default:Object(n["withCtx"])(()=>[Ee,Object(n["createElementVNode"])("p",Se,Object(n["toDisplayString"])(Object(n["unref"])(r).tagline),1),Object(n["createVNode"])(a,{"border-style":"none"}),Object(n["createVNode"])(ye)]),_:1})]),_:1}),Object(n["createVNode"])(l,null,{default:Object(n["withCtx"])(()=>[Object(n["createVNode"])(o,{class:"footer"},{default:Object(n["withCtx"])(()=>[Be]),_:1})]),_:1})]),_:1})]),_:1})}}});c("9fc0");const De=h()(Te,[["__scopeId","data-v-844dfe4a"]]);var Ie=De;const ze={key:0,id:"home"},Re={key:1};var Me=Object(n["defineComponent"])({__name:"TheHome",setup(e){const t=Object(o["b"])(),c="verifive",l=t.state[c],a=Object(n["computed"])(()=>l.user.isAuthenticated);return(e,t)=>Object(n["unref"])(a)?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ze,[Object(n["createVNode"])(w),Object(n["createVNode"])(ne),Object(n["createVNode"])(de)])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Re,[Object(n["createVNode"])(Ie)]))}});c("b8e7");const Ue=h()(Me,[["__scopeId","data-v-5db7481c"]]);t["default"]=Ue},8338:function(e,t,c){},8533:function(e,t,c){"use strict";c("fd23")},"8e99":function(e,t,c){},"9fc0":function(e,t,c){"use strict";c("0352")},b8e7:function(e,t,c){"use strict";c("3cd3")},d525:function(e,t,c){},e6d5:function(e,t,c){},f574:function(e,t,c){"use strict";c("5381")},fafd9:function(e,t,c){},fd23:function(e,t,c){}}]);
//# sourceMappingURL=chunk-6cd890e5.689928ab.js.map